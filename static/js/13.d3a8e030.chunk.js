(this["webpackJsonpe-commerce"]=this["webpackJsonpe-commerce"]||[]).push([[13],{58:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),r=c(4),a=c(11),i=c(1),o=c.n(i),l=c(5),j=c(15),d=c(6),u=c(20),b=c(7),O=c(0),h=o.a.lazy((function(){return c.e(6).then(c.bind(null,48))}));t.default=function(){var e=Object(l.i)(),t=Object(i.useState)(),c=Object(a.a)(t,2),n=c[0],o=c[1],m=Object(i.useState)(),x=Object(a.a)(m,2),f=x[0],p=x[1],g=Object(i.useState)("idle"),v=Object(a.a)(g,2),y=v[0],N=v[1],w=Object(i.useState)("idle"),S=Object(a.a)(w,2),k=S[0],P=S[1],C=Object(i.useState)(500),E=Object(a.a)(C,2),z=E[0],F=E[1],J=Object(i.useState)(),$=Object(a.a)(J,2),A=$[0],B=$[1],H=Object(b.c)((function(e){return e.storeId.id}));Object(i.useEffect)((function(){N("loading");var t=e.category;fetch("".concat("https://ancient-plateau-36518.herokuapp.com","/").concat(t?"getProductsByCategory":"getProducts","/").concat(H,"/").concat(t||50)).then((function(e){if(!e.ok)throw Error("Products not Found");return e.json()})).then((function(e){o(e),N("success")})).catch((function(e){N(e.message)}))}),[e]),Object(i.useEffect)((function(){B(window.innerWidth>600)}),[window]),Object(i.useEffect)((function(){(function(){var e=Object(r.a)(s.a.mark((function e(t){var c,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P("loading"),e.next=3,Object(j.c)(t);case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,P("success"),p(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(4)}),[]);var I=n?n.filter((function(e){return e.price<=z})):null;return"loading"===y&&"loading"===k?Object(O.jsx)(u.a,{}):"success"!==y&&"loading"!==y&&"idle"!==y?Object(O.jsx)("div",{children:y}):Object(O.jsx)("section",{className:"products py-5 my 5",id:"products",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{className:"section_title text-center mb-5",children:Object(O.jsx)("h1",{className:"text-capitalize",children:e.category?e.category:"All Products"})}),Object(O.jsxs)("div",{className:"row",children:[Object(O.jsxs)("div",{className:"col-md-3 border-right mb-small-5",children:[Object(O.jsxs)("h4",{className:"mb-5 border-bottom d-flex justify-content-between",children:[Object(O.jsx)("div",{children:"Filters"}),Object(O.jsx)("div",{className:"bg bg-secondary m-1 p-1 rounded text-white",onClick:function(){return B((function(e){return!e}))},style:{fontSize:"0.9rem",cursor:"pointer"},children:A?"Hide":"Show"})]}),Object(O.jsxs)("div",{className:"mb-5 ".concat(A?"":"d-none"),children:[Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Category"})}),Object(O.jsx)("ul",{className:"list-group",children:f?f.map((function(e){return Object(O.jsx)("li",{className:"list-group-item",children:Object(O.jsx)(d.b,{to:"/".concat(H,"/product/category/").concat(e.category),children:e.category})},e.id)})):Object(O.jsx)(u.a,{})})]}),Object(O.jsxs)("div",{className:A?"":"d-none",children:[Object(O.jsx)("form",{children:Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:Object(O.jsx)("b",{children:"Price"})}),Object(O.jsx)("input",{onChange:function(e){F(e.target.value)},type:"range",min:"50",max:"1000",step:"50",className:"form-control-range",value:z})]})}),Object(O.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(O.jsxs)("label",{children:["$",z]}),Object(O.jsx)("label",{children:"$1000"})]})]})]}),Object(O.jsx)("div",{className:"col-md-9",children:Object(O.jsx)("div",{className:"row mb-5",children:"success"===y?I.map((function(e){return Object(O.jsx)(h,{image:e.image,title:e.title,price:e.price,id:e.id},e.id)})):Object(O.jsx)(u.a,{})})})]})]})})}}}]);
//# sourceMappingURL=13.d3a8e030.chunk.js.map