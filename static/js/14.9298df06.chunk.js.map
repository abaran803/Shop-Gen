{"version":3,"sources":["Pages/RelatedItems.js","Pages/ProductDetail.js"],"names":["useState","items","setItems","setIsLoading","useEffect","count","a","getProducts","value","json","data","getItems","className","id","map","item","index","src","image","alt","style","height","href","title","ProductDetail","props","history","useHistory","qty","setQty","setItem","isLoading","userLoginStatus","JSON","parse","localStorage","getItem","dispatch","useDispatch","pageId","useParams","storeId","useSelector","state","fetch","process","then","res","ok","Error","catch","err","message","Loader","selectedItem","width","maxWidth","maxHeight","price","description","min","max","name","onChange","e","target","type","onClick","push","newItem","quantity","color","size","addNewCartItem","RelatedItems"],"mappings":"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","file":"static/js/14.9298df06.chunk.js","sourcesContent":["import React, { Component, Fragment, useEffect, useState } from \"react\";\r\nimport { getProducts } from \"../API/api\";\r\n\r\nexport default () => {\r\n\r\n  const [items, setItems] = useState();\r\n  const [isLoading, setIsLoading] = useState();\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const getItems = async (count) => {\r\n      const value = await getProducts(count);\r\n      const data = await value.json();\r\n      setIsLoading(false);\r\n      setItems(data);\r\n    }\r\n    getItems(3);\r\n  }, [])\r\n\r\n  return (\r\n    <div className='container'>\r\n      <section className=\"related-products py-5 my-5\" id=\"related_products\">\r\n        <div className=\"title\">\r\n          <h3>Related Products</h3>\r\n        </div>\r\n        <div className=\"row mt-5\">\r\n          {items ? items.map((item, index) => (\r\n            <div className=\"col-md-4 col-sm-6 col-xs-12 mb-3\" key={index}>\r\n              <div className=\"border border-dark rounded shadow text-center p-3 h-100\">\r\n                <div className=\"mb-4\">\r\n                  <img\r\n                    src={item.image}\r\n                    alt=\"\"\r\n                    className=\"img img-fluid\"\r\n                    style={{height: \"300px\"}}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <a href=\"/\">\r\n                    <h5>{item.title}</h5>\r\n                  </a>\r\n                </div>{\" \"}\r\n              </div>\r\n            </div>\r\n          )) : <h3 className='w-100 text text-center mt-5'>No data found</h3>}\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport RelatedItems from \"./RelatedItems\";\r\nimport {addNewCartItem} from \"../ReduxComponents/CounterSlice\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {getProductDetails} from \"../API/api\";\r\nimport Loader from \"../Components/Loader\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nconst ProductDetail = (props) => {\r\n    const history = useHistory();\r\n    const [qty, setQty] = useState(1);\r\n    const [item, setItem] = useState();\r\n    const [isLoading, setIsLoading] = useState('idle');\r\n    const userLoginStatus = JSON.parse(localStorage.getItem('userData'));\r\n    const dispatch = useDispatch();\r\n    const pageId = useParams();\r\n    const storeId = useSelector(state => state.storeId.id);\r\n    useEffect(() => {\r\n        const id = pageId.id;\r\n        setIsLoading('loading');\r\n        const url = process.env.REACT_APP_BACKEND_URL;\r\n        fetch(`${url}/getProductDetails/${storeId}/${id}`)\r\n            .then(res => {\r\n                if (!res.ok) {\r\n                    throw Error(\"Product not Found\");\r\n                }\r\n                return res.json();\r\n            })\r\n            .then(data => {\r\n                setItem(data);\r\n                setIsLoading('success');\r\n            })\r\n            .catch(err => {\r\n                setIsLoading(err.message)\r\n            })\r\n    }, [])\r\n    // const ind = (items ? items.findIndex((item) => item.id === pageId.id) : -1);\r\n    // if (ind === -1) {\r\n    //   return <div>Item not found</div>;\r\n    // }\r\n    if (isLoading === 'loading' || isLoading === 'idle') {\r\n        return <Loader/>\r\n    }\r\n\r\n    if (isLoading !== 'success') {\r\n        return <div>{isLoading}</div>\r\n    }\r\n\r\n    // const selectedItem = items[ind];\r\n    const selectedItem = item;\r\n    const addToCart = () => {\r\n        if (!userLoginStatus) {\r\n            return history.push(`/${storeId}/loginUser`);\r\n        }\r\n        const item = selectedItem;\r\n        const newItem = {\r\n            id: item.id,\r\n            title: item.title,\r\n            image: item.image,\r\n            price: item.price,\r\n            quantity: qty,\r\n            type: item.type,\r\n            color: item.color,\r\n            size: item.size,\r\n        };\r\n        dispatch(addNewCartItem(newItem));\r\n    };\r\n\r\n    const handleQuantityChange = (e) => {\r\n        setQty(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"product_detail py-5 my-5\" id=\"product_detail\">\r\n                <div className=\"container\">\r\n                    <div className=\"section_title text-center mb-5\">\r\n                        <h1 className=\"text-capitalize\">product detail</h1>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-md-12\">\r\n                                    <div\r\n                                        id=\"carouselExampleIndicators\"\r\n                                        className=\"carousel slide shadow rounded\"\r\n                                        data-ride=\"carousel\"\r\n                                    >\r\n                                        <ol className=\"carousel-indicators\">\r\n                                            <li\r\n                                                data-target=\"#carouselExampleIndicators\"\r\n                                                data-slide-to=\"0\"\r\n                                                className=\"active\"\r\n                                            >\r\n                                                <img\r\n                                                    src={selectedItem.image}\r\n                                                    className=\"d-block img img-fluid rounded\"\r\n                                                    alt=\"\"\r\n                                                    style={{width: \"50px !important\"}}\r\n                                                />\r\n                                            </li>\r\n                                            <li\r\n                                                data-target=\"#carouselExampleIndicators\"\r\n                                                data-slide-to=\"1\"\r\n                                            >\r\n                                                <img\r\n                                                    src=\"https://thumbs.dreamstime.com/b/hanger-blank-white-t-shirt-yellow-background-space-text-hanger-blank-white-t-shirt-yellow-background-163266760.jpg\"\r\n                                                    className=\"d-block w-100 img img-fluid rounded\"\r\n                                                    alt=\"\"\r\n                                                    width=\"15px\"\r\n                                                />\r\n                                            </li>\r\n                                            <li\r\n                                                data-target=\"#carouselExampleIndicators\"\r\n                                                data-slide-to=\"2\"\r\n                                            >\r\n                                                <img\r\n                                                    src=\"https://us.123rf.com/450wm/peshkov/peshkov1904/peshkov190400211/120870898-hanger-with-empty-black-t-shirt-hanging-on-brick-wall-background-with-sunlight-shop-print-ad-concept.jpg?ver=6\"\r\n                                                    className=\"d-block w-100 img img-fluid rounded\"\r\n                                                    alt=\"\"\r\n                                                    width=\"15px\"\r\n                                                />\r\n                                            </li>\r\n                                        </ol>\r\n                                        <div className=\"carousel-inner\">\r\n                                            <div className=\"carousel-item active\">\r\n                                                <img\r\n                                                    src={selectedItem.image}\r\n                                                    className=\"d-block img img-fluid rounded m-auto\"\r\n                                                    width='100%'\r\n                                                    style={{maxWidth: \"360px\", maxHeight: \"500px\"}}\r\n                                                    alt=\"...\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"carousel-item\">\r\n                                                <img\r\n                                                    src=\"https://thumbs.dreamstime.com/b/hanger-blank-white-t-shirt-yellow-background-space-text-hanger-blank-white-t-shirt-yellow-background-163266760.jpg\"\r\n                                                    className=\"d-block w-100 img img-fluid rounded\"\r\n                                                    alt=\"...\"\r\n                                                />\r\n                                            </div>\r\n                                            <div className=\"carousel-item\">\r\n                                                <img\r\n                                                    src=\"https://us.123rf.com/450wm/peshkov/peshkov1904/peshkov190400211/120870898-hanger-with-empty-black-t-shirt-hanging-on-brick-wall-background-with-sunlight-shop-print-ad-concept.jpg?ver=6\"\r\n                                                    className=\"d-block w-100 img img-fluid rounded\"\r\n                                                    alt=\"...\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-md-12\">\r\n                                    <div className=\"title mb-4\">\r\n                                        <h3>{selectedItem.title}</h3>\r\n                                    </div>\r\n                                    <div className=\"category mb-4\">\r\n                    <span className=\"bg-light-gray p-2\">\r\n                      <a href=\"category.html\">SHIRT</a>\r\n                    </span>\r\n                                    </div>\r\n                                    <div className=\"rating d-flex text-danger mb-4\">\r\n                                        {/* {\r\n                      <div>\r\n                            <i className={selectedItem.stars[0]}></i>\r\n                            <i className={selectedItem.stars[1]}></i>\r\n                            <i className={selectedItem.stars[2]}></i>\r\n                            <i className={selectedItem.stars[3]}></i>\r\n                            <i className={selectedItem.stars[4]}></i>\r\n                        </div>} */}\r\n                                    </div>\r\n                                    <div className=\"price mb-4\">\r\n                                        <b>\r\n                                            <span className=\"mr-1\"></span>$\r\n                                            <span>{selectedItem.price}</span>\r\n                                        </b>\r\n                                    </div>\r\n                                    <div className=\"desc\">\r\n                                        <p>\r\n                                            {selectedItem.description}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"qty_section border-top pt-2 mb-4\">\r\n                                        <label>Quantity</label>\r\n                                        <div>\r\n                                            <div className=\"mb-0 w-100\">\r\n                                                <input\r\n                                                    className=\"quantity text-center\"\r\n                                                    min=\"0\"\r\n                                                    max=\"10\"\r\n                                                    name=\"quantity\"\r\n                                                    onChange={handleQuantityChange}\r\n                                                    value={qty}\r\n                                                    type=\"number\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"buy\">\r\n                                        <div className=\"btn btn-primary shadow\" onClick={addToCart}>\r\n                                            Add to Cart\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <RelatedItems/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductDetail;\r\n"],"sourceRoot":""}